<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="" rel="stylesheet" type="text/css" media="screen" />
    <style>

    </style>
    <!--script src="js/jquery-1.7.2.min.js" type="text/javascript"></script-->
    <script src="knockout-2.1.0.js" type="text/javascript"></script>    
</head>

<body>
    <h3>Meal upgrades</h3>
    <p>Make your flight more bearable by selecting a meal to match your social and economic status.</p>
    Chosen meal:
    <select data-bind="options: availableMeals,
                                optionsText: 'mealName',
                                value: chosenMeal"></select>

    <p>
        You've chosen:
        <b data-bind="text: chosenMeal().description"></b>
        (price:
        <span data-bind='text: formatPrice(chosenMeal().extraCost)'></span>)
    </p>

<script type="text/javascript">
    function formatPrice(price) {
        return price == 0 ? "Free" : "$" + price.toFixed(2);
    }
    var availableMeals = [{
        mealName: 'Standard',
        description: 'Dry crusts of bread',
        extraCost: 0
    }, {
        mealName: 'Premium',
        description: 'Fresh bread with cheese',
        extraCost: 9.95
    }, {
        mealName: 'Deluxe',
        description: 'Caviar and vintage Dr Pepper',
        extraCost: 18.50
    }];

    var viewModel = {        
        chosenMeal: ko.observable(availableMeals[0])
    };

    ko.applyBindings(viewModel); 
    </script>
</body>

</html>
